services:
  rote-feeder:
    image: ghcr.io/rabithua/rotefeeder:latest

    # Configuration Method 1: Use config.yaml file (Recommended, easier to maintain)
    # volumes:
    #   - ./config.yaml:/app/config.yaml
    #   - ./denokv:/app/denokv

    # Configuration Method 2: Use Docker Compose environment variables (Suitable for simple configurations)
    # Use YAML native syntax for environment variables
    environment:
      ROTE_API_BASE: "https://api.rote.ink"
      ROTE_OPENKEY: "your_openkey_here"
      ROTE_STATE: "public"
      ROTE_APPEND_SOURCE_TAG: "true"
      ROTE_DEFAULT_TAGS: >-
        - RoteFeeder
        - RSS
      ROTE_FEEDS: >-
        - name: "Hacker News"
          url: "https://hnrss.org/newest?points=100"
        - name: "Design Fragments"
          url: "https://df.fenx.work/rss/all"
        - name: "Fatbobman's Blog"
          url: "https://fatbobman.com/rss.xml"
        - name: "月球背面"
          url: "https://moonvy.com/blog/rss.xml"
      ROTE_CRON: "*/10 * * * *"

    volumes:
      - ./denokv:/app/denokv
    restart: unless-stopped
